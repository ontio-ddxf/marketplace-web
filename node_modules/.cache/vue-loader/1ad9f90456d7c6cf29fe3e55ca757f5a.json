{"remainingRequest":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/src/components/Theheader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/src/components/Theheader.vue","mtime":1557053770706},{"path":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/Onchina_item/ont-ddfx-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      userAccount: ''\n    }\n  },\n  created() {\n    this.userAccount = sessionStorage.getItem('user_ontid')\n    if (sessionStorage.getItem(\"user_ontid\")) {\n      this.userAccount = sessionStorage.getItem(\"user_ontid\");\n    }\n    else {\n      var result = this.$route.query.result;\n      if (result) {\n        var response = JSON.parse(decodeURIComponent(result));\n        sessionStorage.setItem(\"user_ontid\", response.user_ontid);\n        sessionStorage.setItem(\"access_token\", response.access_token);\n        this.userAccount = sessionStorage.getItem(\"user_ontid\");\n      }\n    }\n  },\n  methods: {\n    Login() {\n      var callback_url = window.location.origin + '/#/';\n      var appontid = 'did:ont:ANqiHycikgyzkfz36faP5ymXLVg1uovhXh';\n      var appname = 'OntSourcing';\n      var value = window.encodeURIComponent(appontid + '&' + appname + '&' + callback_url + '&' + 'zh');\n      window.location.href = \"http://139.219.136.188:10390?params=\" + value;\n    },\n    LoginOut() {\n      this.$confirm('确定退出当前登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {//确定\n        sessionStorage.removeItem(\"user_ontid\");\n        sessionStorage.removeItem(\"access_token\");\n        this.userAccount = '';\n        this.$router.push({ path: '/' });\n      }).catch(() => {\n\n      });\n    }\n  },\n}\n",{"version":3,"sources":["Theheader.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Theheader.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"header_layout\">\n    <el-button round size=\"small\" v-if=\"userAccount\" @click=\"LoginOut\">退出</el-button>\n    <el-button round size=\"small\" v-else @click=\"Login\">登陆</el-button>\n    <span class=\"userAccount\">{{userAccount}}</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      userAccount: ''\n    }\n  },\n  created() {\n    this.userAccount = sessionStorage.getItem('user_ontid')\n    if (sessionStorage.getItem(\"user_ontid\")) {\n      this.userAccount = sessionStorage.getItem(\"user_ontid\");\n    }\n    else {\n      var result = this.$route.query.result;\n      if (result) {\n        var response = JSON.parse(decodeURIComponent(result));\n        sessionStorage.setItem(\"user_ontid\", response.user_ontid);\n        sessionStorage.setItem(\"access_token\", response.access_token);\n        this.userAccount = sessionStorage.getItem(\"user_ontid\");\n      }\n    }\n  },\n  methods: {\n    Login() {\n      var callback_url = window.location.origin + '/#/';\n      var appontid = 'did:ont:ANqiHycikgyzkfz36faP5ymXLVg1uovhXh';\n      var appname = 'OntSourcing';\n      var value = window.encodeURIComponent(appontid + '&' + appname + '&' + callback_url + '&' + 'zh');\n      window.location.href = \"http://139.219.136.188:10390?params=\" + value;\n    },\n    LoginOut() {\n      this.$confirm('确定退出当前登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {//确定\n        sessionStorage.removeItem(\"user_ontid\");\n        sessionStorage.removeItem(\"access_token\");\n        this.userAccount = '';\n        this.$router.push({ path: '/' });\n      }).catch(() => {\n\n      });\n    }\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.header_layout {\n  button.el-button {\n    background: #000;\n    color: #fff;\n    float: right;\n    margin-right: 20px;\n    margin: 14px;\n  }\n\n  span.userAccount {\n    display: block;\n    float: right;\n    margin-right: 40px;\n    height: 60px;\n    line-height: 60px;\n  }\n}\n</style>\n"]}]}