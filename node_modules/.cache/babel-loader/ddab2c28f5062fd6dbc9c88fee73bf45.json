{"remainingRequest":"/Users/ericyang/Desktop/Onchina_item/marketplace-web/node_modules/babel-loader/lib/index.js!/Users/ericyang/Desktop/Onchina_item/marketplace-web/src/router.js","dependencies":[{"path":"/Users/ericyang/Desktop/Onchina_item/marketplace-web/src/router.js","mtime":1557386926248},{"path":"/Users/ericyang/Desktop/Onchina_item/marketplace-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/Onchina_item/marketplace-web/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/ericyang/Desktop/Onchina_item/marketplace-web/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Layout from \"./views/Layout.vue\";\nimport CommodityDetail from \"./components/CommodityDetail\";\nimport OrderCenter from \"./components/OrderCenter\";\nimport AddNewData from \"./components/AddNewData\";\nVue.use(Router);\nvar router = new Router({\n  routes: [{\n    path: '/',\n    name: 'Layout',\n    component: Layout,\n    children: [{\n      path: 'commoditydetail',\n      name: 'commoditydetail',\n      component: CommodityDetail\n    }, {\n      path: 'ordercenter',\n      name: 'ordercenter',\n      component: OrderCenter\n    }, {\n      path: 'addnewdata',\n      name: 'addnewdata',\n      component: AddNewData\n    }]\n  }]\n});\n\nfunction jumpTo(target, origin, next) {\n  if (target.name !== origin.name) {\n    return next(target);\n  }\n\n  return next();\n}\n\nrouter.beforeEach(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, from, next) {\n    var toPath, user_ontid;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            toPath = to.name; // console.log(to)\n\n            if (!(toPath === 'commoditydetail')) {\n              _context.next = 4;\n              break;\n            }\n\n            next();\n            return _context.abrupt(\"return\");\n\n          case 4:\n            user_ontid = sessionStorage.getItem(\"user_ontid\"); // if no user_ontid then go web_home\n\n            if (user_ontid) {\n              _context.next = 9;\n              break;\n            }\n\n            sessionStorage.clear();\n            jumpTo({\n              name: 'Layout'\n            }, to, next);\n            return _context.abrupt(\"return\");\n\n          case 9:\n            next();\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport default router;",{"version":3,"sources":["/Users/ericyang/Desktop/Onchina_item/marketplace-web/src/router.js"],"names":["Vue","Router","Layout","CommodityDetail","OrderCenter","AddNewData","use","router","routes","path","name","component","children","jumpTo","target","origin","next","beforeEach","to","from","toPath","user_ontid","sessionStorage","getItem","clear"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,MAAP;AACA,OAAOC,eAAP;AACA,OAAOC,WAAP;AACA,OAAOC,UAAP;AAEAL,GAAG,CAACM,GAAJ,CAAQL,MAAR;AACA,IAAMM,MAAM,GAAG,IAAIN,MAAJ,CAAW;AACxBO,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAET,MAHb;AAIEU,IAAAA,QAAQ,EAAE,CACR;AACEH,MAAAA,IAAI,EAAE,iBADR;AAEEC,MAAAA,IAAI,EAAE,iBAFR;AAGEC,MAAAA,SAAS,EAAER;AAHb,KADQ,EAMR;AACEM,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,IAAI,EAAE,aAFR;AAGEC,MAAAA,SAAS,EAAEP;AAHb,KANQ,EAWR;AACEK,MAAAA,IAAI,EAAE,YADR;AAEEC,MAAAA,IAAI,EAAE,YAFR;AAGEC,MAAAA,SAAS,EAAEN;AAHb,KAXQ;AAJZ,GADM;AADgB,CAAX,CAAf;;AA2BA,SAASQ,MAAT,CAAgBC,MAAhB,EAAwBC,MAAxB,EAAgCC,IAAhC,EAAsC;AACpC,MAAIF,MAAM,CAACJ,IAAP,KAAgBK,MAAM,CAACL,IAA3B,EAAiC;AAC/B,WAAOM,IAAI,CAACF,MAAD,CAAX;AACD;;AACD,SAAOE,IAAI,EAAX;AACD;;AAEDT,MAAM,CAACU,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBH,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZI,YAAAA,MAFY,GAEHF,EAAE,CAACR,IAFA,EAGhB;;AAHgB,kBAIZU,MAAM,KAAK,iBAJC;AAAA;AAAA;AAAA;;AAKdJ,YAAAA,IAAI;AALU;;AAAA;AAQZK,YAAAA,UARY,GAQCC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CARD,EAShB;;AATgB,gBAUXF,UAVW;AAAA;AAAA;AAAA;;AAWdC,YAAAA,cAAc,CAACE,KAAf;AACAX,YAAAA,MAAM,CAAC;AAAEH,cAAAA,IAAI,EAAE;AAAR,aAAD,EAAqBQ,EAArB,EAAyBF,IAAzB,CAAN;AAZc;;AAAA;AAehBA,YAAAA,IAAI;;AAfY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAkBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Layout from './views/Layout.vue'\nimport CommodityDetail from './components/CommodityDetail'\nimport OrderCenter from './components/OrderCenter'\nimport AddNewData from './components/AddNewData'\n\nVue.use(Router)\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Layout',\n      component: Layout,\n      children: [\n        {\n          path: 'commoditydetail',\n          name: 'commoditydetail',\n          component: CommodityDetail\n        },\n        {\n          path: 'ordercenter',\n          name: 'ordercenter',\n          component: OrderCenter\n        },\n        {\n          path: 'addnewdata',\n          name: 'addnewdata',\n          component: AddNewData\n        }\n      ]\n    }\n  ]\n})\n\nfunction jumpTo(target, origin, next) {\n  if (target.name !== origin.name) {\n    return next(target);\n  }\n  return next();\n}\n\nrouter.beforeEach(async (to, from, next) => {\n\n  let toPath = to.name\n  // console.log(to)\n  if (toPath === 'commoditydetail') {\n    next()\n    return\n  }\n  let user_ontid = sessionStorage.getItem(\"user_ontid\");\n  // if no user_ontid then go web_home\n  if (!user_ontid) {\n    sessionStorage.clear()\n    jumpTo({ name: 'Layout' }, to, next)\n    return\n  }\n  next()\n})\n\nexport default router\n"]}]}